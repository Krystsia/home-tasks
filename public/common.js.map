{"version":3,"file":"common.js","sources":["webpack:///webpack/bootstrap 83f467ccbc98819e9397","webpack:///./common/style/reset.scss","webpack:///./common/services/getData_service.js","webpack:///./common/components/errorComponent/customError.js","webpack:///./common/components/errorComponent/CustomErrorView.js","webpack:///./common/components/articleComponent/article.js","webpack:///./common/components/articleComponent/styles/article.scss","webpack:///./common/components/articleComponent/article_model.js","webpack:///./common/model/model.js","webpack:///./common/components/articleComponent/article_ctrl.js","webpack:///./common/components/articleComponent/article_view.js","webpack:///./common/services/getDate_service.js"],"sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp_name_\"];\n \twindow[\"webpackJsonp_name_\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n \t\twhile(callbacks.length)\n \t\t\tcallbacks.shift().call(null, __webpack_require__);\n \t\tif(moreModules[0]) {\n \t\t\tinstalledModules[0] = 0;\n \t\t\treturn __webpack_require__(0);\n \t\t}\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// \"0\" means \"already loaded\"\n \t// Array means \"loading\", array contains callbacks\n \tvar installedChunks = {\n \t\t3:0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn callback.call(null, __webpack_require__);\n\n \t\t// an array means \"currently loading\".\n \t\tif(installedChunks[chunkId] !== undefined) {\n \t\t\tinstalledChunks[chunkId].push(callback);\n \t\t} else {\n \t\t\t// start chunk loading\n \t\t\tinstalledChunks[chunkId] = [callback];\n \t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\tvar script = document.createElement('script');\n \t\t\tscript.type = 'text/javascript';\n \t\t\tscript.charset = 'utf-8';\n \t\t\tscript.async = true;\n\n \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({\"0\":\"bbc\",\"2\":\"ng\"}[chunkId]||chunkId) + \".js\";\n \t\t\thead.appendChild(script);\n \t\t}\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 83f467ccbc98819e9397","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/style/reset.scss\n// module id = 1\n// module chunks = 3","import CustomError from '../components/errorComponent/customError.js';\r\n\r\n\r\nlet wrapper = document.querySelector('.articles');\r\n\r\nexport default class Request {\r\n    constructor(apiKey, method, url, ...headers) {\r\n        this.apiKey = apiKey;\r\n        this.method = method;\r\n        this.url = url;\r\n        this.headers = headers;\r\n    }\r\n\r\n    get allheaders() {\r\n        let allHeaders = {};\r\n        for(let header of this.headers) {\r\n            Object.assign(allHeaders, header);\r\n        }\r\n    }\r\n\r\n    get stringRequest() {\r\n        return this.url +'&apiKey=' + this.apiKey;\r\n    }\r\n\r\n    get config() {\r\n        return {\r\n            method: this.method,\r\n            headers: this.allheaders\r\n        }\r\n    }\r\n\r\n    getData() {\r\n        return fetch(this.stringRequest, this.config)\r\n            .then(handleErrors)\r\n            .then((data) => data.json(),(error) => { \r\n                CustomError.init(error, wrapper); \r\n                return {};\r\n            }); \r\n    }\r\n}\r\n\r\nfunction handleErrors(response) {\r\n    if (!response.ok) {\r\n        throw Error(response.statusText);\r\n    }\r\n    return response;\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./common/services/getData_service.js","import CustomErrorView from './CustomErrorView.js';\r\n\r\nexport default class CustomError {\r\n    constructor(errorMessage) {\r\n        this.errorElement = new CustomErrorView(errorMessage).cunstructErrorTemplate();\r\n    }\r\n    \r\n    static init(errorMessage, element) {\r\n        let customError = new CustomError(errorMessage)\r\n        element.appendChild(customError.errorElement);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./common/components/errorComponent/customError.js","export default class CustomErrorView {\r\n    constructor(errorMessage) {\r\n        this.errorMessage = errorMessage;\r\n    } \r\n    \r\n    cunstructErrorTemplate() {\r\n        let li = document.createElement('li');\r\n        \r\n        li.classList.add('error-message');\r\n        li.innerHTML = `<p>${this.errorMessage}</p>`;\r\n        return li;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./common/components/errorComponent/CustomErrorView.js","import './styles/article.scss';\r\n\r\n\r\nimport ArticleModel from './article_model.js';\r\nimport ArticleCtrl from './article_ctrl.js';\r\nimport ArticleView from './article_view.js';\r\n\r\nexport default class Article {\r\n    static init(data, element) {\r\n        let { articles: allArticles = [] } = data;\r\n        let fragment = document.createDocumentFragment();\r\n        allArticles = allArticles.map((article) => {\r\n            let itemModel  = new ArticleModel(article);\r\n            let itemCtrl = new ArticleCtrl(itemModel)\r\n            return new ArticleView(itemModel, itemCtrl).constructTemplate();\r\n        });\r\n        \r\n        let tempArticleStore = [];\r\n        \r\n        for(let li of allArticles) {\r\n            if(!tempArticleStore.some((item) => (item === li.innerHTML))) {\r\n                tempArticleStore.push(li.innerHTML);\r\n                fragment.appendChild(li);\r\n            }\r\n        } \r\n        \r\n        document.querySelector(element).appendChild(fragment);\r\n        hideLoader();\r\n        initialEvents('mouseover', ArticleCtrl.showDescription);\r\n    }; \r\n}\r\n\r\nfunction hideLoader() {\r\n    let backdrop = document.querySelector('.backdrop'),\r\n        loader = document.querySelector('.loader');\r\n\r\n    loader.style.opacity = '0';\r\n    loader.style.display = 'none';\r\n    backdrop.style.opacity = '0';\r\n    backdrop.style.display = 'none';\r\n}\r\n\r\nfunction initialEvents(evenName, callback) {\r\n    let articles = document.querySelector('.articles');\r\n    articles.addEventListener(evenName, callback); \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./common/components/articleComponent/article.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/components/articleComponent/styles/article.scss\n// module id = 6\n// module chunks = 3","import Model from '../../model/model.js';\r\n\r\nclass ArticleModel extends Model{\r\n    constructor(article) {\r\n        super(article);\r\n        this.addField('title');\r\n        this.addField('publishedAt');\r\n        this.addField('description');\r\n        this.addField('url');\r\n        this.addField('source');\r\n        this.addField('urlToImage');\r\n        this.addField('abstract');\r\n        this.addField('author');\r\n    };\r\n}\r\n\r\nexport default ArticleModel;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./common/components/articleComponent/article_model.js","export default class Model {\r\n    constructor(data) {\r\n        this.data = data;\r\n    }\r\n    \r\n    addField(name) {\r\n        this[name] = this.data[name] || null;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./common/model/model.js","export default class ArticleCtrl {\r\n    constructor(model) {\r\n        this.model = model;\r\n    }; \r\n\t\r\n\tgetDate(date) {\r\n\t\tlet myDate = new Date(date);\r\n\t\treturn `${myDate.getDate()}.${myDate.getMonth() + 1}.${myDate.getFullYear()}`;\r\n\t}\r\n    \r\n    static showDescription(e) {\r\n        const { target: element } = e;\r\n        const [ descriptor ] = element.getElementsByClassName('descriptor');\r\n        if (descriptor) {\r\n            descriptor.style.cssText = 'top: 0;';\r\n            element.addEventListener('mouseleave', ArticleCtrl.hideDescription);\r\n            e.preventDefault();\r\n        }\r\n        \r\n        return;\r\n    }\r\n    \r\n    static hideDescription(e) {\r\n        const [ descriptor ] = e.target.getElementsByClassName('descriptor');\r\n        descriptor.style.cssText = 'top: 100%;';\r\n        e.preventDefault();\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./common/components/articleComponent/article_ctrl.js","import DateService from '../../services/getDate_service.js';\r\n\r\nexport default class ArticleView {\r\n    constructor(model, ctrl) {\r\n        this.model = model;\r\n        this.ctrl = ctrl;\r\n    }\r\n    \r\n    constructTemplate() {\r\n        let li = document.createElement('li');\r\n        li.innerHTML = `<a href=\"${this.model.url}\">\r\n                            <h2>${this.model.title}</h2>\r\n                            <p class=\"published-at\">${DateService.getDate(this.model.publishedAt)}</p>\r\n                            <img src=\"${this.model.urlToImage}\" alt=\"image\"/>\r\n                            <p class=\"descriptor\"><span>${this.model.description}</span><p>\r\n                        </a>`;\r\n\r\n\t\treturn li;\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./common/components/articleComponent/article_view.js","export default class DateService {\r\n    static getDate(date) {\r\n        let myDate = new Date(date);\r\n        return `${myDate.getDate()}.${myDate.getMonth() + 1}.${myDate.getFullYear()}`;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./common/services/getDate_service.js"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzFA;;;;;;;;;;;;;;ACAA;AACA;;;;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAmBA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AA1BA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AACA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAFA;AAIA;;;;;;AAxBA;AACA;AACA;AAkCA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7CA;AACA;;;;;;;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AATA;;;;;;;;;;;;;;ACFA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAZA;;;;;;;;;;;;ACAA;AACA;AAEA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;AACA;;;;;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAWA;AAAA;AAAA;AACA;AACA;AACA;AAfA;AACA;AAUA;AAAA;AAKA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAiBA;AACA;AACA;AACA;AACA;;;;AAvBA;AACA;AACA;AAuBA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC5CA;;;;;;;;;;;;ACAA;AACA;;;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAUA;AACA;;;;AAEA;;;;;;;;;;;;;;AChBA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AARA;;;;;;;;;;;;;;;;ACAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;AA3BA;;;;;;;;;;;;ACAA;AACA;;;;;;;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;;;;AAjBA;;;;;;;;;;;;;;ACFA;;;;;AACA;AACA;AACA;AACA;AACA;;;;AALA;;;","sourceRoot":""}