{"version":3,"file":"ng.js","sources":["webpack:///app/national-geographic-news/index.js","webpack:///./common/style/reset.scss","webpack:///app/common/components/articleComponent/article.js","webpack:///./common/components/articleComponent/styles/article.scss","webpack:///app/common/components/articleComponent/article_model.js","webpack:///app/common/model/model.js","webpack:///app/common/components/articleComponent/article_ctrl.js","webpack:///app/common/components/articleComponent/article_view.js"],"sourcesContent":["import '../common/style/reset.scss';\n\nimport Request from '../common/services/getData_service.js';\nimport Article from '../common/components/articleComponent/article.js';\n\n\n((d) => {\n    let mainRequest = new Request('f1fdf072013c4b1e8b92b027a92a8977', 'GET', 'https://newsapi.org/v1/articles?source=national-geographic', {Accept: 'xyz'});\n\n    d.addEventListener('DOMContentLoaded', function() {\n        mainRequest.getData().then((data) => {\n\n            if (NODE_ENV == 'development') {\n                console.log(data);\n            }\n\n            Article.init(data, '.articles');\n        });\n    })\n})(document);\n\n\n\n// WEBPACK FOOTER //\n// app/national-geographic-news/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/style/reset.scss\n// module id = 14\n// module chunks = 1","import './styles/article.scss';\n\n\nimport ArticleModel from './article_model.js';\nimport ArticleCtrl from './article_ctrl.js';\nimport ArticleView from './article_view.js';\nimport ToggleDescription from '../../services/toggleDescription-service.js';\n\nexport default class Article {\n    static init(data, element) {\n        let { articles: allArticles = [] } = data;\n        let fragment = document.createDocumentFragment();\n        allArticles = allArticles.map((article) => {\n            let itemModel  = new ArticleModel(article);\n            let itemCtrl = new ArticleCtrl(itemModel)\n            return new ArticleView(itemModel, itemCtrl).constructTemplate();\n        });\n\n        let tempArticleStore = [];\n\n        for(let li of allArticles) {\n            if(!tempArticleStore.some((item) => (item === li.innerHTML))) {\n                tempArticleStore.push(li.innerHTML);\n                fragment.appendChild(li);\n            }\n        }\n\n        document.querySelector(element).appendChild(fragment);\n        hideLoader();\n        initialEvents('mouseover', ToggleDescription.showDescription);\n    };\n}\n\nfunction hideLoader() {\n    let backdrop = document.querySelector('.backdrop'),\n        loader = document.querySelector('.loader');\n\n    loader.style.opacity = '0';\n    loader.style.display = 'none';\n    backdrop.style.opacity = '0';\n    backdrop.style.display = 'none';\n}\n\nfunction initialEvents(evenName, callback) {\n    let articles = document.querySelector('.articles');\n    articles.addEventListener(evenName, callback);\n}\n\n\n\n// WEBPACK FOOTER //\n// app/common/components/articleComponent/article.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/components/articleComponent/styles/article.scss\n// module id = 19\n// module chunks = 1","import Model from '../../model/model.js';\n\nclass ArticleModel extends Model{\n    constructor(article) {\n        super(article);\n        this.addField('title');\n        this.addField('publishedAt');\n        this.addField('description');\n        this.addField('url');\n        this.addField('source');\n        this.addField('urlToImage');\n        this.addField('abstract');\n        this.addField('author');\n    };\n}\n\nexport default ArticleModel;\n\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// app/common/components/articleComponent/article_model.js","export default class Model {\n    constructor(data) {\n        this.data = data;\n    }\n    \n    addField(name) {\n        this[name] = this.data[name] || null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// app/common/model/model.js","export default class ArticleCtrl {\n    constructor(model) {\n        this.model = model;\n    }; \n\t\n\tgetDate(date) {\n\t\tlet myDate = new Date(date);\n\t\treturn `${myDate.getDate()}.${myDate.getMonth() + 1}.${myDate.getFullYear()}`;\n\t}\n    \n    static showDescription(e) {\n        const { target: element } = e;\n        const [ descriptor ] = element.getElementsByClassName('descriptor');\n        if (descriptor) {\n            descriptor.style.cssText = 'top: 0;';\n            element.addEventListener('mouseleave', ArticleCtrl.hideDescription);\n            e.preventDefault();\n        }\n        \n        return;\n    }\n    \n    static hideDescription(e) {\n        const [ descriptor ] = e.target.getElementsByClassName('descriptor');\n        descriptor.style.cssText = 'top: 100%;';\n        e.preventDefault();\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// app/common/components/articleComponent/article_ctrl.js","import DateService from '../../services/getDate_service.js';\n\nexport default class ArticleView {\n    constructor(model, ctrl) {\n        this.model = model;\n        this.ctrl = ctrl;\n    }\n    \n    constructTemplate() {\n        let li = document.createElement('li');\n        li.innerHTML = `<a href=\"${this.model.url}\">\n                            <h2>${this.model.title}</h2>\n                            <p class=\"published-at\">${DateService.getDate(this.model.publishedAt)}</p>\n                            <img src=\"${this.model.urlToImage}\" alt=\"image\"/>\n                            <p class=\"descriptor\"><span>${this.model.description}</span><p>\n                        </a>`;\n\n\t\treturn li;\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// app/common/components/articleComponent/article_view.js"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;AAAA;AACA;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AClBA;;;;;;;;;;;;;;;ACAA;AACA;AAEA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;AACA;;;;;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAWA;AAAA;AAAA;AACA;AACA;AACA;AAfA;AACA;AAUA;AAAA;AAKA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAiBA;AACA;AACA;AACA;AACA;;;;AAvBA;AACA;AACA;AAuBA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7CA;;;;;;;;;;;;;ACAA;AACA;;;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAUA;AACA;;;;AAEA;;;;;;;;;;;;;;AChBA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AARA;;;;;;;;;;;;;;;;ACAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;AA3BA;;;;;;;;;;;;ACAA;AACA;;;;;;;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;;;;AAjBA;;;","sourceRoot":""}