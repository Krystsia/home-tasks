{"version":3,"file":"ng.js","sources":["webpack:///./national-geographic-news/index.js","webpack:///./common/style/reset.scss","webpack:///./common/components/articleComponent/article.js","webpack:///./common/components/articleComponent/styles/article.scss","webpack:///./common/components/articleComponent/article_model.js","webpack:///./common/model/model.js","webpack:///./common/components/articleComponent/article_ctrl.js","webpack:///./common/components/articleComponent/article_view.js"],"sourcesContent":["import '../common/style/reset.scss';\r\n\r\nimport Request from '../common/services/getData_service.js';\r\nimport Article from '../common/components/articleComponent/article.js';\r\n\r\n\r\n((d) => {\r\n    let mainRequest = new Request('f1fdf072013c4b1e8b92b027a92a8977', 'GET', 'https://newsapi.org/v1/articles?source=national-geographic', {Accept: 'xyz'});\r\n\r\n    d.addEventListener('DOMContentLoaded', function() {\r\n        mainRequest.getData().then((data) => {\r\n\r\n            if (NODE_ENV == 'development') {\r\n                console.log(data);\r\n            }\r\n\r\n            Article.init(data, '.articles');\r\n        });\r\n    })\r\n})(document);\r\n\n\n\n// WEBPACK FOOTER //\n// ./national-geographic-news/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/style/reset.scss\n// module id = 15\n// module chunks = 1","import './styles/article.scss';\r\n\r\n\r\nimport ArticleModel from './article_model.js';\r\nimport ArticleCtrl from './article_ctrl.js';\r\nimport ArticleView from './article_view.js';\r\nimport ToggleDescription from '../../services/toggleDescription-service.js';\r\n\r\nexport default class Article {\r\n    static init(data, element) {\r\n        let { articles: allArticles = [] } = data;\r\n        let fragment = document.createDocumentFragment();\r\n        allArticles = allArticles.map((article) => {\r\n            let itemModel  = new ArticleModel(article);\r\n            let itemCtrl = new ArticleCtrl(itemModel)\r\n            return new ArticleView(itemModel, itemCtrl).constructTemplate();\r\n        });\r\n\r\n        let tempArticleStore = [];\r\n\r\n        for(let li of allArticles) {\r\n            if(!tempArticleStore.some((item) => (item === li.innerHTML))) {\r\n                tempArticleStore.push(li.innerHTML);\r\n                fragment.appendChild(li);\r\n            }\r\n        }\r\n\r\n        document.querySelector(element).appendChild(fragment);\r\n        hideLoader();\r\n        initialEvents('mouseover', ToggleDescription.showDescription);\r\n    };\r\n}\r\n\r\nfunction hideLoader() {\r\n    let backdrop = document.querySelector('.backdrop'),\r\n        loader = document.querySelector('.loader');\r\n\r\n    loader.style.opacity = '0';\r\n    loader.style.display = 'none';\r\n    backdrop.style.opacity = '0';\r\n    backdrop.style.display = 'none';\r\n}\r\n\r\nfunction initialEvents(evenName, callback) {\r\n    let articles = document.querySelector('.articles');\r\n    articles.addEventListener(evenName, callback);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./common/components/articleComponent/article.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/components/articleComponent/styles/article.scss\n// module id = 20\n// module chunks = 1","import Model from '../../model/model.js';\r\n\r\nclass ArticleModel extends Model{\r\n    constructor(article) {\r\n        super(article);\r\n        this.addField('title');\r\n        this.addField('publishedAt');\r\n        this.addField('description');\r\n        this.addField('url');\r\n        this.addField('source');\r\n        this.addField('urlToImage');\r\n        this.addField('abstract');\r\n        this.addField('author');\r\n    };\r\n}\r\n\r\nexport default ArticleModel;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./common/components/articleComponent/article_model.js","export default class Model {\r\n    constructor(data) {\r\n        this.data = data;\r\n    }\r\n    \r\n    addField(name) {\r\n        this[name] = this.data[name] || null;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./common/model/model.js","export default class ArticleCtrl {\r\n    constructor(model) {\r\n        this.model = model;\r\n    }; \r\n\t\r\n\tgetDate(date) {\r\n\t\tlet myDate = new Date(date);\r\n\t\treturn `${myDate.getDate()}.${myDate.getMonth() + 1}.${myDate.getFullYear()}`;\r\n\t}\r\n    \r\n    static showDescription(e) {\r\n        const { target: element } = e;\r\n        const [ descriptor ] = element.getElementsByClassName('descriptor');\r\n        if (descriptor) {\r\n            descriptor.style.cssText = 'top: 0;';\r\n            element.addEventListener('mouseleave', ArticleCtrl.hideDescription);\r\n            e.preventDefault();\r\n        }\r\n        \r\n        return;\r\n    }\r\n    \r\n    static hideDescription(e) {\r\n        const [ descriptor ] = e.target.getElementsByClassName('descriptor');\r\n        descriptor.style.cssText = 'top: 100%;';\r\n        e.preventDefault();\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./common/components/articleComponent/article_ctrl.js","import DateService from '../../services/getDate_service.js';\r\n\r\nexport default class ArticleView {\r\n    constructor(model, ctrl) {\r\n        this.model = model;\r\n        this.ctrl = ctrl;\r\n    }\r\n\r\n    constructTemplate() {\r\n        let li = document.createElement('li');\r\n        li.innerHTML = `<a href=\"${this.model.url}\">\r\n                            <h2>${this.model.title}</h2>\r\n                            <p class=\"published-at\">${new DateService().getDate(this.model.publishedAt)}</p>\r\n                            <img src=\"${this.model.urlToImage}\" alt=\"image\"/>\r\n                            <p class=\"descriptor\"><span>${this.model.description}</span><p>\r\n                        </a>`;\r\n\r\n\t\treturn li;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./common/components/articleComponent/article_view.js"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;AAAA;AACA;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AClBA;;;;;;;;;;;;;;;ACAA;AACA;AAEA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;AACA;;;;;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAWA;AAAA;AAAA;AACA;AACA;AACA;AAfA;AACA;AAUA;AAAA;AAKA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAiBA;AACA;AACA;AACA;AACA;;;;AAvBA;AACA;AACA;AAuBA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7CA;;;;;;;;;;;;;ACAA;AACA;;;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAUA;AACA;;;;AAEA;;;;;;;;;;;;;;AChBA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AARA;;;;;;;;;;;;;;;;ACAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;AA3BA;;;;;;;;;;;;ACAA;AACA;;;;;;;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;;;;AAjBA;;;","sourceRoot":""}